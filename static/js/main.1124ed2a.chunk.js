(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{27:function(e,t,a){e.exports={loader:"Loader_loader__jqv4Q"}},32:function(e,t,a){},33:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(24),i=a.n(r),o=(a(32),a(12)),s=a(4),l=a(5),u=a(7),m=a(6),g=(a(33),a(11)),h=(a(13),a(14),a(0)),b=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={value:""},e.handleChange=function(t){e.setState({value:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){if(t.preventDefault(),""===e.state.value.trim())return Object(g.alert)({text:"Please, enter your query!"});e.props.onSubmit(e.state.value),e.setState({value:""})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(h.jsx)("header",{className:"Searchbar",children:Object(h.jsxs)("form",{onSubmit:this.handleSubmit,className:"SearchForm",children:[Object(h.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(h.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(h.jsx)("input",{className:"SearchForm-input",type:"text",value:this.state.value,name:"value",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleChange})]})})}}]),a}(c.a.Component),j=function(e){var t=e.imgS,a=e.imgL,n=e.onClick;return Object(h.jsx)("li",{className:"ImageGalleryItem",children:Object(h.jsx)("img",{src:t,alt:"",onClick:function(){return n(a)},className:"ImageGalleryItem-image"})})},d=function(e){var t=e.images,a=e.onClick;return Object(h.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.largeImageURL;return Object(h.jsx)(j,{imgL:c,imgS:n,onClick:a},t)}))})},p=a(25),f=a.n(p),v=function(e){var t=e.query,a=e.page,n="".concat("https://pixabay.com/api/","?q=").concat(t,"&page=").concat(a,"&key=").concat("23114127-913a50287ab6c0ea340feb686","&image_type=photo&orientation=horizontal&per_page=12");return f.a.get(n).then((function(e){return e.data.hits}))},O=function(e){var t=e.text,a=e.onClick;return Object(h.jsx)("button",{className:"Button",onClick:a,children:t})},x=a(2),y=a.n(x),S=function(e){var t=e.img,a=e.onClick;return Object(h.jsx)("div",{className:"Overlay",onClick:a,children:Object(h.jsx)("div",{className:"Modal",children:Object(h.jsx)("img",{src:t,alt:""})})})};S.propType={img:y.a.string,onClick:y.a.func};a(23);var C=a(26),k=a.n(C),I=a(27),N=a.n(I),w=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(h.jsx)(k.a,{type:"Oval",color:"#00BFFF",height:80,width:80,className:N.a.loader})}}]),a}(c.a.Component),L=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={value:"",page:1,images:[],isLoading:!1,modalIsOpen:!1,bigImg:""},e.formSubmitHandle=function(t){e.setState({value:t})},e.fetchImages=function(){var t={query:e.state.value,page:e.state.page};e.setState({isLoading:!0}),v(t).then((function(t){e.setState((function(e){return{images:[].concat(Object(o.a)(e.images),Object(o.a)(t)),page:e.page+1}}))})).catch((function(e){return e({text:"No image!",delay:1e3})})).finally((function(){return e.setState({isLoading:!1})}))},e.imgBig=function(t){e.setState({modalIsOpen:!0}),e.setState({bigImg:t}),console.log(e.state.bigImg)},e.modalClose=function(t){t.currentTarget===t.target&&e.setState({modalIsOpen:!1})},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.value!==this.state.value&&this.fetchImages(),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.bigImg,n=e.isLoading,c=e.modalIsOpen;return Object(h.jsxs)("div",{className:"Container",children:[Object(h.jsx)(b,{onSubmit:this.formSubmitHandle}),n&&Object(h.jsx)(w,{}),Object(h.jsx)(d,{images:t,onClick:this.imgBig}),t.length>0&&Object(h.jsx)(O,{text:"load more",onClick:this.fetchImages}),!0===c&&Object(h.jsx)(S,{img:a,onClick:this.modalClose})]})}}]),a}(c.a.Component),F=L;i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(F,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.1124ed2a.chunk.js.map
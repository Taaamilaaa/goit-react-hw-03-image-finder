{"version":3,"sources":["components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","Services/pixabay.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","App/App.js","index.js"],"names":["module","exports","Searchbar","state","value","handleChange","e","setState","currentTarget","toLowerCase","handleSubmit","preventDefault","trim","alert","text","props","onSubmit","className","this","type","name","autoComplete","autoFocus","placeholder","onChange","React","Component","ImageGalleryItem","imgS","imgL","onClick","src","alt","ImageGallery","images","map","id","webformatURL","largeImageURL","pixabayFetch","query","page","url","axios","get","then","data","hits","Button","portal","document","querySelector","Modal","handleKeyDown","event","code","showModal","handleOverlayClick","target","window","addEventListener","removeEventListener","createPortal","children","Loading","color","height","width","styles","loader","App","isLoading","modalIsOpen","bigImg","formSubmitHandle","fetchImages","options","prevState","catch","error","delay","finally","imgBig","img","toggleModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ea59a928.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__jqv4Q\"};","import React from \"react\";\r\nimport { alert} from '@pnotify/core';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport PropTypes from 'prop-types';\r\nexport class Searchbar extends React.Component {\r\n  state = {\r\n    value: \"\",\r\n  };\r\n  handleChange = (e) => {\r\n    this.setState({ value: e.currentTarget.value.toLowerCase() });\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.value.trim() === \"\") {\r\n      return alert({\r\n  text: 'Please, enter your query!'\r\n});\r\n    }\r\n    this.props.onSubmit(this.state.value);\r\n   this.setState({\r\n      value: \"\",\r\n    });\r\n  };\r\n \r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            value={this.state.value}\r\n            name=\"value\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func  \r\n}","import PropTypes from 'prop-types';\r\n\r\nexport const ImageGalleryItem = ({ imgS, imgL, onClick }) => {\r\n    return (\r\n <li className=\"ImageGalleryItem\" >\r\n  <img src={imgS} alt=\"\" onClick = {() => onClick(imgL)} className=\"ImageGalleryItem-image\" />\r\n</li>\r\n    )\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n    imgS: PropTypes.string,\r\n    imgL: PropTypes.string,\r\n    onClick: PropTypes.func,\r\n}","\r\nimport React from \"react\";\r\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const ImageGallery = ({ images, onClick }) => {\r\n  \r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {images.map(({ id, webformatURL, largeImageURL }) => {\r\n        return <ImageGalleryItem key={id} imgL = {largeImageURL} imgS={webformatURL} onClick={onClick} />\r\n      })}\r\n      \r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array,\r\n  onClick: PropTypes.func,\r\n}","import axios from \"axios\";\r\n\r\nconst API_KEY = \"23114127-913a50287ab6c0ea340feb686\";\r\nconst BASE_URL = \"https://pixabay.com/api/\"\r\n\r\nexport const pixabayFetch = ({ query, page }) => {\r\n \r\n const url = `${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n\r\n  return axios\r\n    .get(url)\r\n    .then(({ data }) => data.hits)\r\n};\r\n","export const Button = ({text, onClick}) => {\r\n    return (\r\n        <button className = \"Button\" onClick = {onClick}>{ text}</button>\r\n    )\r\n}","// import PropTypes from 'prop-types';\r\n// import React from 'react';\r\n\r\n\r\n// export class Modal extends React.Component{\r\n \r\n//  componentDidMount() {\r\n//     window.addEventListener('keydown', this.modalClose);\r\n//   };\r\n\r\n//   componentWillUnmount() {\r\n//     window.removeEventListener('keydown', this.modalClose);\r\n//   };\r\n \r\n//   modalClose = (e) => {\r\n//     if (e.currentTarget === e.target || e.code === 'Escape') {   \r\n//       this.setState({ modalIsOpen: false });\r\n//     }\r\n//   };\r\n  \r\n//   render() {\r\n//     return (\r\n//         <div className=\"Overlay\" onClick = {this.modalClose}>\r\n//   <div className=\"Modal\">\r\n//     <img src={this.props.img} alt=\"\" />\r\n//   </div>\r\n// </div>\r\n//     )\r\n//   }\r\n// }\r\n\r\nimport { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst portal = document.querySelector('#portal');\r\n\r\nexport class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.showModal();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n    this.props.showModal();\r\n    }\r\n  };\r\n \r\n  render() {\r\n    return createPortal(\r\n      <div className='Overlay' onClick={this.handleOverlayClick}>\r\n        <div className='Modal'>{this.props.children}</div>\r\n      </div>,\r\n      portal,\r\n    );\r\n  }\r\n}","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport React from \"react\";\r\nimport styles from './Loader.module.css'\r\nexport default class Loading extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <Loader type=\"Oval\" color=\"#00BFFF\" height={80} width={80} className={ styles.loader} /> \r\n    );\r\n  }\r\n}","import React from \"react\";\nimport \"./App.css\";\nimport { Searchbar } from \"../components/Searchbar/Searchbar\";\nimport { ImageGallery } from \"../components/ImageGallery/ImageGallery\";\nimport { pixabayFetch } from \"../Services/pixabay\";\nimport { Button } from \"../components/Button/Button\";\nimport { Modal } from \"../components/Modal/Modal\";\nimport { alert, error } from \"@pnotify/core\";\nimport \"@pnotify/core/dist/PNotify.css\";\nimport \"@pnotify/core/dist/BrightTheme.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"../components/Loader/Loader\";\n\nclass App extends React.Component {\n  state = {\n    value: \"\",\n    page: 1,\n    images: [],\n    isLoading: false,\n    modalIsOpen: false,\n    bigImg: \"\",\n  };\n  formSubmitHandle = (value) => {\n    this.setState({\n      value: value,\n      page: 1,\n      images: [],\n    });\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.value !== this.state.value) {\n      \n      this.fetchImages();\n    }\n     if (!this.state.modalIsOpen) {\n      window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n    }\n  }\n  fetchImages = () => {\n    const options = {\n      query: this.state.value,\n      page: this.state.page,\n    };\n    this.setState({ isLoading: true });\n    pixabayFetch(options)\n      .then((images) => {\n        this.setState((prevState) => {\n          return {\n            images: [...prevState.images, ...images],\n            page: prevState.page + 1,\n          };\n        });\n      }).catch((error) =>\n        error({\n          text: \"No image!\",\n          delay: 1000,\n        })      \n      ).finally(() => this.setState({ isLoading: false }));      \n  };\n  imgBig = (img) => {\n   \n    this.setState({ bigImg: img });\n\n    this.toggleModal();\n  };\n toggleModal = () => {\n    this.setState(state => ({\n      modalIsOpen: !state.modalIsOpen,\n    }));\n  };\n  render() { \n    const {images, bigImg, isLoading, modalIsOpen} = this.state\n    return (\n      <div className=\"Container\">\n        <Searchbar onSubmit={this.formSubmitHandle} />\n        {isLoading && <Loader />}\n        <ImageGallery images={images} onClick={this.imgBig} />\n        {images.length > 0 && (\n          <Button text={\"load more\"} onClick={this.fetchImages} />\n        )}\n        {modalIsOpen && (\n          <Modal showModal={this.imgBig}>\n            <img src={bigImg} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n\n"],"sourceRoot":""}